# ๐งช ะะะ ะขะะกะขะะะะะะขะฌ API
## ะะพะดัะพะฑะฝะฐั ะธะฝััััะบัะธั ะฟะพ ะทะฐะฟััะบั ัะตััะพะฒ

---

## ๐ ะะะกะขะฃะะะซะ ะะะขะะะซ ะขะะกะขะะะะะะะะฏ

ะฃ ะฒะฐั ะตััั **2 ัะฟะพัะพะฑะฐ** ะฟัะพัะตััะธัะพะฒะฐัั API:

### 1. ๐ **Browser Tester** (ะะตะบะพะผะตะฝะดัะตััั)
ะัะฐัะธะฒัะน ะฒะตะฑ-ะธะฝัะตััะตะนั ั real-time ัะตะทัะปััะฐัะฐะผะธ

### 2. ๐ป **Node.js Script**
ะะพะฝัะพะปัะฝัะน ัะบัะธะฟั ะดะปั CI/CD ะธ ะฐะฒัะพะผะฐัะธะทะฐัะธะธ

---

## ๐ ะะะขะะ 1: Browser Tester

### ะจะฐะณ 1: ะัะบัะพะนัะต ัะฐะนะป
```bash
# ะัะบัะพะนัะต ัะฐะนะป ะฒ ะฑัะฐัะทะตัะต
open test-api.html
# ะธะปะธ
firefox test-api.html
# ะธะปะธ
chrome test-api.html
```

### ะจะฐะณ 2: ะะพะปััะธัะต ัะพะบะตะฝ ะฐะฒัะพัะธะทะฐัะธะธ

**ะะฐัะธะฐะฝั A: ะัะปะธ ัะถะต ะทะฐะปะพะณะธะฝะตะฝั**
1. ะัะบัะพะนัะต DevTools (F12)
2. ะะตัะตะนะดะธัะต ะฒ Console
3. ะัะฟะพะปะฝะธัะต:
```javascript
const token = localStorage.getItem('supabase.auth.token');
console.log(token);
```
4. ะกะบะพะฟะธััะนัะต ัะพะบะตะฝ

**ะะฐัะธะฐะฝั B: ะัะปะธ ะฝะตั ัะพะบะตะฝะฐ**
1. ะกะฝะฐัะฐะปะฐ ะฒะพะนะดะธัะต ะฒ ัะธััะตะผั ัะตัะตะท ะฒะฐัะต ะฟัะธะปะพะถะตะฝะธะต
2. ะะฐัะตะผ ะฟะพะปััะธัะต ัะพะบะตะฝ ะบะฐะบ ะฒ ะฒะฐัะธะฐะฝัะต A

### ะจะฐะณ 3: ะะฐัััะพะนัะต ัะตััะตั

ะ ะฒะตะฑ-ะธะฝัะตััะตะนัะต ะทะฐะฟะพะปะฝะธัะต:
- **Supabase Project ID**: ะฒะฐั project ID
- **Auth Token**: ัะพะบะตะฝ ะธะท ัะฐะณะฐ 2

API Base URL ััะพัะผะธััะตััั ะฐะฒัะพะผะฐัะธัะตัะบะธ.

### ะจะฐะณ 4: ะะฐะฟัััะธัะต ัะตััั

ะะฐะถะผะธัะต ะพะดะฝั ะธะท ะบะฝะพะฟะพะบ:
- **โถ๏ธ ะะฐะฟัััะธัั ะฒัะต ัะตััั** - ะฟะพะปะฝะพะต ัะตััะธัะพะฒะฐะฝะธะต (ัะตะบะพะผะตะฝะดัะตััั)
- **๐ป ะขะพะปัะบะพ Radio API** - ัะพะปัะบะพ endpoints ัะฐะดะธะพััะฐะฝัะธะน
- **๐ข ะขะพะปัะบะพ Venue API** - ัะพะปัะบะพ endpoints ะทะฐะฒะตะดะตะฝะธะน

### ะจะฐะณ 5: ะะฝะฐะปะธะทะธััะนัะต ัะตะทัะปััะฐัั

ะขะตััะตั ะฟะพะบะฐะถะตั:
- โ **Passed** - ะบะพะปะธัะตััะฒะพ ััะฟะตัะฝัั ัะตััะพะฒ
- โ **Failed** - ะบะพะปะธัะตััะฒะพ ะฟัะพะฒะฐะปะธะฒัะธััั ัะตััะพะฒ
- โณ **Pending** - ัะตััั ะฒ ะฟัะพัะตััะต
- ๐ **Total** - ะพะฑัะตะต ะบะพะปะธัะตััะฒะพ

ะะปั ะบะฐะถะดะพะณะพ ัะตััะฐ ะฒั ัะฒะธะดะธัะต:
- ะะตัะพะด (GET/POST/PUT/DELETE)
- Endpoint
- ะัะตะผั ะฒัะฟะพะปะฝะตะฝะธั
- ะกัะฐััั (200, 400, 401, 404, 500)
- ะัะฒะตั ัะตัะฒะตัะฐ (JSON)

---

## ๐ป ะะะขะะ 2: Node.js Script

### ะจะฐะณ 1: ะฃััะฐะฝะพะฒะธัะต Node.js

ะัะปะธ ะตัะต ะฝะต ัััะฐะฝะพะฒะปะตะฝ:
```bash
# macOS
brew install node

# Ubuntu/Debian
sudo apt install nodejs npm

# Windows
# ะกะบะฐัะฐะนัะต ั https://nodejs.org
```

### ะจะฐะณ 2: ะะพะปััะธัะต ัะพะบะตะฝ

ะขะฐะบ ะถะต ะบะฐะบ ะฒ Method 1, ะจะฐะณ 2.

### ะจะฐะณ 3: ะฃััะฐะฝะพะฒะธัะต ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั

```bash
export PROJECT_ID="your-project-id-here"
export AUTH_TOKEN="your-auth-token-here"
```

**ะัะธะผะตั:**
```bash
export PROJECT_ID="abcdefghijklmnop"
export AUTH_TOKEN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
```

### ะจะฐะณ 4: ะะฐะฟัััะธัะต ัะบัะธะฟั

```bash
node test-api.mjs
```

### ะจะฐะณ 5: ะะฝะฐะปะธะทะธััะนัะต ะฒัะฒะพะด

ะกะบัะธะฟั ะฒัะฒะตะดะตั:
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                            โ
โ           ๐งช PROMO.MUSIC API TESTER v1.0                  โ
โ                                                            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ Configuration:
   API Base: https://abcd.supabase.co/functions/v1/make-server-84730125
   Auth Token: ***xyz123
   Timeout: 10000ms

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ฅ HEALTH CHECK
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

[001] GET    /health ... โ PASS (125ms)

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ป RADIO API TESTS
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

[002] GET    /api/radio/analytics/overview?period=month ... โ PASS (234ms)
[003] GET    /api/radio/analytics/revenue?period=week ... โ PASS (189ms)
...

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ FINAL RESULTS
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

Total Tests:    25
Passed:         23
Failed:         2
Total Time:     5.2s
Pass Rate:      92.0%

โ๏ธ  2 tests failed - check output above
```

---

## ๐ฏ ะงะขะ ะขะะกะขะะะฃะะขะกะฏ

### โ Radio API (11 ัะตััะพะฒ)

**Analytics:**
- [x] GET `/api/radio/analytics/overview` - ัะฒะพะดะบะฐ ะฐะฝะฐะปะธัะธะบะธ
- [x] GET `/api/radio/analytics/revenue` - ะณัะฐัะธะบ ะดะพัะพะดะพะฒ

**Finance:**
- [x] GET `/api/radio/finance/balance` - ัะตะบััะธะน ะฑะฐะปะฐะฝั
- [x] GET `/api/radio/finance/transactions` - ะธััะพัะธั ััะฐะฝะทะฐะบัะธะน
- [x] POST `/api/radio/finance/withdrawal` - ะฒัะฒะพะด ััะตะดััะฒ (+ ะฒะฐะปะธะดะฐัะธั Zod)

**Ad Slots:**
- [x] GET `/api/radio/ad-slots/list` - ัะฟะธัะพะบ ัะปะพัะพะฒ
- [x] POST `/api/radio/ad-slots/create` - ัะพะทะดะฐะฝะธะต ัะปะพัะฐ (+ ะฒะฐะปะธะดะฐัะธั Zod)

**Rotation:**
- [x] GET `/api/radio/rotation-packages/list` - ะฟะฐะบะตัั ัะพัะฐัะธะธ

**Orders:**
- [x] GET `/api/radio/orders/list` - ะทะฐะบะฐะทั

---

### โ Venue API (9 ัะตััะพะฒ)

**Analytics:**
- [x] GET `/api/venue/analytics/overview` - ัะฒะพะดะบะฐ ะฐะฝะฐะปะธัะธะบะธ
- [x] GET `/api/venue/analytics/campaigns` - ะบะฐะผะฟะฐะฝะธะธ
- [x] GET `/api/venue/analytics/spending` - ะทะฐััะฐัั
- [x] GET `/api/venue/analytics/roi` - ROI
- [x] GET `/api/venue/analytics/radio-compare` - ััะฐะฒะฝะตะฝะธะต ัะฐะดะธะพ

**Export:**
- [x] POST `/api/venue/analytics/export` - ัะบัะฟะพัั (+ ะฒะฐะปะธะดะฐัะธั Zod)

**Profile:**
- [x] GET `/api/venue/profile` - ะฟัะพัะธะปั ะทะฐะฒะตะดะตะฝะธั
- [x] PUT `/api/venue/profile` - ะพะฑะฝะพะฒะปะตะฝะธะต ะฟัะพัะธะปั (+ ะฒะฐะปะธะดะฐัะธั Zod)

---

### โ ElevenLabs API (1 ัะตัั)

- [x] GET `/api/elevenlabs/voices` - ัะฟะธัะพะบ ะณะพะปะพัะพะฒ

---

### โ Health Check (1 ัะตัั)

- [x] GET `/health` - ะฟัะพะฒะตัะบะฐ ัะฐะฑะพัะพัะฟะพัะพะฑะฝะพััะธ ัะตัะฒะตัะฐ

---

## ๐งฌ ะขะะกะขะะะฃะะะซะ ะกะฆะะะะะะ

### ะะพะทะธัะธะฒะฝัะต ัะตััั (ะพะถะธะดะฐะตะผ 200 OK):
- โ ะะพะปััะตะฝะธะต ะฐะฝะฐะปะธัะธะบะธ
- โ ะะพะปััะตะฝะธะต ะฑะฐะปะฐะฝัะฐ
- โ ะะพะปััะตะฝะธะต ััะฐะฝะทะฐะบัะธะน
- โ ะะพะปััะตะฝะธะต ัะฟะธัะบะพะฒ

### ะะตะณะฐัะธะฒะฝัะต ัะตััั (ะพะถะธะดะฐะตะผ 400 Bad Request):
- โ Withdrawal ั amount < 1000 (Zod ะฒะฐะปะธะดะฐัะธั)
- โ Withdrawal ั ะฝะตะดะพะฟัััะธะผัะผ paymentMethod (Zod ะฒะฐะปะธะดะฐัะธั)
- โ Create Ad Slot ั ะฝะตะดะพะฟัััะธะผัะผ slotType (Zod ะฒะฐะปะธะดะฐัะธั)
- โ Export ั ะฝะตะดะพะฟัััะธะผัะผ format (Zod ะฒะฐะปะธะดะฐัะธั)
- โ Update Profile ั ะฝะตะฒะฐะปะธะดะฝัะผ URL (Zod ะฒะฐะปะธะดะฐัะธั)

### ะขะตััั ะฐะฒัะพัะธะทะฐัะธะธ (ะพะถะธะดะฐะตะผ 401):
- ๐ ะะฐะฟัะพัั ะฑะตะท ัะพะบะตะฝะฐ (ะณะดะต ััะตะฑัะตััั auth)

---

## ๐ ะขะะะะงะะซะ ะะะะะะะะซ ะ ะะะจะะะะฏ

### โ ะัะพะฑะปะตะผะฐ: "Route not found" (404)

**ะัะธัะธะฝะฐ:** Endpoint ะฝะต ัััะตััะฒัะตั ะธะปะธ ะฝะตะฟัะฐะฒะธะปัะฝัะน ะฟััั

**ะะตัะตะฝะธะต:**
1. ะัะพะฒะตัััะต ััะพ Edge Function ัะฐะทะฒะตัะฝััะฐ:
```bash
supabase functions deploy make-server-84730125
```

2. ะัะพะฒะตัััะต URL - ะดะพะปะถะตะฝ ะฑััั ัะพัะผะฐั:
```
https://PROJECT_ID.supabase.co/functions/v1/make-server-84730125/api/radio/...
```

---

### โ ะัะพะฑะปะตะผะฐ: "Unauthorized" (401)

**ะัะธัะธะฝะฐ:** ะขะพะบะตะฝ ะฝะต ะฟะตัะตะดะฐะฝ ะธะปะธ ะธััะตะบ

**ะะตัะตะฝะธะต:**
1. ะัะพะฒะตัััะต ััะพ ัะพะบะตะฝ ัััะฐะฝะพะฒะปะตะฝ
2. ะะพะปััะธัะต ะฝะพะฒัะน ัะพะบะตะฝ (ะทะฐะปะพะณะธะฝััะตัั ะทะฐะฝะพะฒะพ)
3. ะฃะฑะตะดะธัะตัั ััะพ ัะพะบะตะฝ ะฟะตัะตะดะฐะตััั ะฒ header:
```javascript
Authorization: Bearer YOUR_TOKEN
```

---

### โ ะัะพะฑะปะตะผะฐ: "Validation error" (400)

**ะัะธัะธะฝะฐ:** ะะฐะฝะฝัะต ะฝะต ะฟัะพัะปะธ Zod ะฒะฐะปะธะดะฐัะธั

**ะัะธะผะตั ะพัะธะฑะบะธ:**
```json
{
  "error": "Validation error: amount: Minimum withdrawal amount is 1000 RUB"
}
```

**ะะตัะตะฝะธะต:**
ะญัะพ **ะพะถะธะดะฐะตะผะพะต ะฟะพะฒะตะดะตะฝะธะต** ะดะปั ะฝะตะณะฐัะธะฒะฝัั ัะตััะพะฒ!
- ะะปั withdrawal: amount ะดะพะปะถะตะฝ ะฑััั โฅ 1000
- ะะปั ad slot: slotType ะดะพะปะถะตะฝ ะฑััั ะธะท ัะฟะธัะบะฐ (slot_5sec, slot_10sec, slot_15sec, slot_30sec)
- ะะปั export: format ะดะพะปะถะตะฝ ะฑััั (pdf, excel, csv, json)

---

### โ ะัะพะฑะปะตะผะฐ: "Internal Server Error" (500)

**ะัะธัะธะฝะฐ:** ะัะธะฑะบะฐ ะฝะฐ ัะตัะฒะตัะต (SQL, ะปะพะณะธะบะฐ, ะธ ั.ะด.)

**ะะตัะตะฝะธะต:**
1. ะัะพะฒะตัััะต ะปะพะณะธ Edge Function:
```bash
supabase functions logs make-server-84730125 --tail
```

2. ะขะธะฟะธัะฝัะต ะฟัะธัะธะฝั:
   - ะขะฐะฑะปะธัะฐ ะฝะต ัััะตััะฒัะตั ะฒ ะะ
   - SQL ะทะฐะฟัะพั ะฝะตะบะพััะตะบัะฝัะน
   - ะััััััะฒััั ะดะฐะฝะฝัะต (ะฟััััะต ัะฐะฑะปะธัั)

3. ะกะพะทะดะฐะนัะต ัะตััะพะฒัะต ะดะฐะฝะฝัะต:
```sql
-- ะกะผ. /API_TESTING_GUIDE.md ัะฐะทะดะตะป "ะขะตััะพะฒัะต ะดะฐะฝะฝัะต"
```

---

### โ ะัะพะฑะปะตะผะฐ: CORS Error

**ะัะธัะธะฝะฐ:** CORS ะฝะต ะฝะฐัััะพะตะฝ

**ะะตัะตะฝะธะต:**
ะัะพะฒะตัััะต ััะพ ะฒ `/supabase/functions/server/index.tsx` ะตััั:
```typescript
app.use(
  "/*",
  cors({
    origin: "*",
    allowHeaders: ["Content-Type", "Authorization", "X-User-Id"],
    allowMethods: ["GET", "POST", "PUT", "DELETE", "OPTIONS"],
  }),
);
```

---

### โ ะัะพะฑะปะตะผะฐ: ะขะฐะฑะปะธัะฐ ะฝะต ัััะตััะฒัะตั

**ะัะธะฑะบะฐ:** `relation "radio_stations" does not exist`

**ะะตัะตะฝะธะต:**
1. ะัะพะฒะตัััะต ััะพ SQL ัะฐะฑะปะธัั ัะพะทะดะฐะฝั
2. ะะฐะฟัััะธัะต ะผะธะณัะฐัะธั:
```bash
# ะ Supabase Dashboard -> SQL Editor
# ะัะฟะพะปะฝะธัะต ะฒัะต CREATE TABLE ะบะพะผะฐะฝะดั
```

3. ะะปะธ ะฟัะพะฒะตัััะต ััะพ `initializeDatabase()` ะพััะฐะฑะพัะฐะปะฐ ะฟัะธ ััะฐััะต ัะตัะฒะตัะฐ

---

## ๐ ะะะขะะะะะะขะะฆะะฏ ะะะะฃะะฌะขะะขะะ

### โ 100% Pass Rate
**ะัะปะธัะฝะพ!** ะัะต endpoints ัะฐะฑะพัะฐัั ะบะพััะตะบัะฝะพ.

**ะกะปะตะดัััะธะต ัะฐะณะธ:**
- ะะพะดะบะปััะธัั Frontend ะบ API
- ะะฐะผะตะฝะธัั mock ะดะฐะฝะฝัะต
- ะะพะฑะฐะฒะธัั error handling

---

### โ๏ธ 80-99% Pass Rate
**ะฅะพัะพัะพ!** ะะพะปััะธะฝััะฒะพ endpoints ัะฐะฑะพัะฐัั.

**ะงัะพ ะฟัะพะฒะตัะธัั:**
- ะะฐะบะธะต ะบะพะฝะบัะตัะฝะพ ัะตััั ัะฟะฐะปะธ?
- ะญัะพ ะฝะตะณะฐัะธะฒะฝัะต ัะตััั (ะพะถะธะดะฐะตะผ ะพัะธะฑะบั)?
- ะะปะธ ัะตะฐะปัะฝัะต ะฟัะพะฑะปะตะผั?

---

### โ <80% Pass Rate
**ะขัะตะฑัะตััั ะฒะฝะธะผะฐะฝะธะต!** ะะฝะพะณะพ ะพัะธะฑะพะบ.

**ะงะฐัััะต ะฟัะธัะธะฝั:**
1. **ะขะพะบะตะฝ ะฝะต ัััะฐะฝะพะฒะปะตะฝ** - 50% ัะตััะพะฒ ัะฟะฐะดัั
2. **ะขะฐะฑะปะธัั ะฝะต ัะพะทะดะฐะฝั** - ะฒัะต SQL ะทะฐะฟัะพัั ัะฟะฐะดัั
3. **Edge Function ะฝะต ัะฐะทะฒะตัะฝััะฐ** - ะฒัะต ัะตััั ัะฟะฐะดัั (404)

**ะะพััะดะพะบ ะธัะฟัะฐะฒะปะตะฝะธั:**
1. ะัะพะฒะตัััะต Edge Function (health check)
2. ะัะพะฒะตัััะต ัะพะบะตะฝ ะฐะฒัะพัะธะทะฐัะธะธ
3. ะัะพะฒะตัััะต ัะฐะฑะปะธัั ะฒ ะะ
4. ะัะพะฒะตัััะต ะปะพะณะธ ัะตัะฒะตัะฐ

---

## ๐ ะะะขะะะฌะะซะ ะะะะะะ

### ะะฐะบ ัะธัะฐัั ัะตะทัะปััะฐัั

**Browser Tester:**
```
โ [GET] Radio: Analytics Overview
   Endpoint: /api/radio/analytics/overview?period=month
   Status: 200
   Time: 234ms
   Response: { success: true, data: {...} }
```

**Node.js Script:**
```
[002] GET    /api/radio/analytics/overview?period=month ... โ PASS (234ms)
```

---

### ะกัะฐััั ะบะพะดั

| ะะพะด | ะะฝะฐัะตะฝะธะต | ะขะตัั |
|-----|----------|------|
| 200 | OK | โ PASS |
| 201 | Created | โ PASS |
| 400 | Bad Request | โ PASS (ะดะปั ะฝะตะณะฐัะธะฒะฝัั ัะตััะพะฒ) |
| 401 | Unauthorized | โ ะัะพะฒะตัััะต ัะพะบะตะฝ |
| 404 | Not Found | โ Endpoint ะฝะต ัััะตััะฒัะตั |
| 500 | Server Error | โ ะัะธะฑะบะฐ ะฝะฐ ัะตัะฒะตัะต |

---

## ๐ฏ ะะะะะะะะะฃะะะซะ WORKFLOW

### 1. ะะตัะฒัะน ะทะฐะฟััะบ (ะะธะฐะณะฝะพััะธะบะฐ)

```bash
# 1. ะัะพะฒะตัััะต health check
curl https://YOUR_PROJECT.supabase.co/functions/v1/make-server-84730125/health

# ะะพะปะถะฝะพ ะฒะตัะฝััั: {"status":"ok","timestamp":"..."}
```

ะัะปะธ health check ะฝะต ัะฐะฑะพัะฐะตั:
- Edge Function ะฝะต ัะฐะทะฒะตัะฝััะฐ
- ะะตะฟัะฐะฒะธะปัะฝัะน PROJECT_ID
- ะัะพะฑะปะตะผั ั Supabase

---

### 2. ะัะพัะพะน ะทะฐะฟััะบ (ะก ัะพะบะตะฝะพะผ)

```bash
# 2. ะะฐะฟัััะธัะต Browser Tester ั ัะพะบะตะฝะพะผ
# ะัะบัะพะนัะต test-api.html ะธ ะฒะฒะตะดะธัะต ัะพะบะตะฝ
```

ะกะผะพััะธัะต ะฝะฐ ัะตะทัะปััะฐัั:
- ะัะปะธ ะฒัะต โ - ะฟะตัะตัะพะดะธัะต ะบ ัะฐะณั 3
- ะัะปะธ โ - ะฐะฝะฐะปะธะทะธััะนัะต ะพัะธะฑะบะธ

---

### 3. ะขัะตัะธะน ะทะฐะฟััะบ (ะะฒัะพะผะฐัะธะทะฐัะธั)

```bash
# 3. ะะฐะฟัััะธัะต Node.js ัะบัะธะฟั ะดะปั CI/CD
export PROJECT_ID="..."
export AUTH_TOKEN="..."
node test-api.mjs
```

ะะพะฑะฐะฒััะต ะฒ CI/CD pipeline ะดะปั ะฐะฒัะพะผะฐัะธัะตัะบะพะณะพ ัะตััะธัะพะฒะฐะฝะธั.

---

## ๐ ะงะะะะะกะข ะะะะะ ะะะะฃะกะะะ

ะะตัะตะด ัะตััะธัะพะฒะฐะฝะธะตะผ ัะฑะตะดะธัะตัั:

- [ ] Edge Function ัะฐะทะฒะตัะฝััะฐ (`supabase functions deploy make-server-84730125`)
- [ ] ะขะฐะฑะปะธัั ัะพะทะดะฐะฝั ะฒ ะะ (SQL ะผะธะณัะฐัะธะธ ะฒัะฟะพะปะฝะตะฝั)
- [ ] ะััั ัะพะบะตะฝ ะฐะฒัะพัะธะทะฐัะธะธ (ะทะฐะปะพะณะธะฝะธะปะธัั ะฒ ะฟัะธะปะพะถะตะฝะธะธ)
- [ ] PROJECT_ID ะฟัะฐะฒะธะปัะฝัะน
- [ ] ะะฝัะตัะฝะตั ัะพะตะดะธะฝะตะฝะธะต ัะฐะฑะพัะฐะตั
- [ ] CORS ะฝะฐัััะพะตะฝ ะฒ Edge Function

---

## ๐ ะะซะกะขะะซะ ะกะขะะะข (TL;DR)

### Browser Tester:
```bash
# 1. ะัะบัะพะนัะต ัะฐะนะป
open test-api.html

# 2. ะะฒะตะดะธัะต PROJECT_ID ะธ AUTH_TOKEN

# 3. ะะฐะถะผะธัะต "ะะฐะฟัััะธัั ะฒัะต ัะตััั"

# 4. ะะฝะฐะปะธะทะธััะนัะต ัะตะทัะปััะฐัั
```

### Node.js Script:
```bash
# 1. ะฃััะฐะฝะพะฒะธัะต ะฟะตัะตะผะตะฝะฝัะต
export PROJECT_ID="your-project-id"
export AUTH_TOKEN="your-token"

# 2. ะะฐะฟัััะธัะต
node test-api.mjs

# 3. ะกะผะพััะธัะต ะฒัะฒะพะด ะฒ ัะตัะผะธะฝะฐะปะต
```

---

## ๐ ะะะะะะะะะ

ะัะปะธ ัะตััั ะฝะต ะทะฐะฟััะบะฐัััั:

1. **ะัะพะฒะตัััะต ะปะพะณะธ:**
```bash
supabase functions logs make-server-84730125 --tail
```

2. **ะัะพะฒะตัััะต ัะฐะฑะปะธัั:**
```sql
-- ะ Supabase Dashboard -> SQL Editor
SELECT tablename FROM pg_tables WHERE schemaname = 'public';
```

3. **ะัะพะฒะตัััะต health check:**
```bash
curl https://YOUR_PROJECT.supabase.co/functions/v1/make-server-84730125/health
```

---

**ะกะพะทะดะฐะฝะพ:** 4 ัะตะฒัะฐะปั 2026  
**ะะตััะธั:** 1.0  
**ะกัะฐััั:** โ ะะพัะพะฒะพ ะบ ะธัะฟะพะปัะทะพะฒะฐะฝะธั

