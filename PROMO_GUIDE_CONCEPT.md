# 🎵 PROMO.GUIDE - КОНЦЕПЦИЯ И РЕАЛИЗАЦИЯ

## 🤯 СУТЬ: Музыкальный Shazam наоборот

### Традиционный Shazam:
```
Слышишь трек → "Что это?" → Узнаешь название
```

### Promo.Guide:
```
Хочешь классную музыку → "Где это?" → Идешь туда!
```

---

## 🎯 WIN-WIN-WIN МОДЕЛЬ

### 1. 🏢 WIN для Venue (Заведений):

```
✅ Бесплатная целевая реклама
   → Попадают в гайд музыкальных меломанов
   → Их видят люди, которые ЦЕНЯТ хорошую музыку

✅ Усиление бренда
   → "У нас есть персональный музыкальный директор"
   → Знак качества и внимания к деталям

✅ Прямой трафик посетителей
   → Пользователь видит venue → нравится музыка → "Построить маршрут" → ПРИХОДИТ!

✅ Конкурентное преимущество
   → Venue с открытой музыкой выделяются
   → Premium тарифы → значок "Выбор редакции" ⭐

📊 Результат: +30-50% посещаемость через музыкальное открытие
```

---

### 2. 🎤 WIN для Артистов:

```
✅ Наглядное доказательство успеха
   → "Мой трек прямо СЕЙЧАС играет в модном баре на Патриарших!"
   → Реальное, живое подтверждение ротации

✅ Контент для соцсетей
   → Скриншот: "Мой сингл в Sunset Lounge!"
   → "Кто сегодня там, передавайте привет!"
   → Вирусный маркетинг

✅ Аналитика venue
   → Видит где его музыка "заходит" лучше всего
   → Может напрямую предложить живое выступление
   → "Я вижу моя музыка популярна у вас, давайте живой концерт?"

✅ Мотивация к Premium
   → Чтобы попасть в ротацию venue → нужен Pro/Elite тариф
   → Приоритетное прослушивание редакторами

📊 Результат: Конверсия Free → Pro = +40%
```

---

### 3. 🚀 WIN для Promo.music:

```
✅ УБИЙСТВЕННОЕ УТП
   Конкуренты: "Мы даем музыку для бизнеса"
   Мы:          "Мы ПРИВОДИМ КЛИЕНТОВ через музыку"
   
   💥 НОКАУТ! 💥

✅ Сетевой эффект (Flywheel)
   Больше venue → Привлекательнее для артистов
   ↓
   Больше артистов → Качественнее музыка
   ↓
   Качественнее музыка → Больше посетителей venue
   ↓
   Больше посетителей → Venue платят Premium
   ↓
   🔄 LOOP! Система раскручивает сама себя!

✅ Оправдание премиальной цены
   → Мы не просто музыкальный сервис
   → Мы маркетинговая платформа
   → Цена +200% оправдана

✅ Новый User Experience
   → "Открытие мест через музыку"
   → Никто в мире так не делает
   → Патент на концепцию?

📊 Результат: Доминирующая позиция на рынке
```

---

## 🎨 КАК ЭТО ВЫГЛЯДИТ

### 1️⃣ Главная страница Promo.Guide

```
╔═══════════════════════════════════════════════════════╗
║                                                       ║
║           🎵 Promo.Guide                              ║
║                                                       ║
║   Shazam наоборот: не "что играет?",                 ║
║   а "где играет классное?"                            ║
║                                                       ║
╠═══════════════════════════════════════════════════════╣
║                                                       ║
║  📊 СТАТИСТИКА                                        ║
║  ┌────────┬────────┬────────┬────────┐               ║
║  │  127   │   45   │   18   │   12   │               ║
║  │Заведений│В эфире │Жанров  │Городов │               ║
║  └────────┴────────┴────────┴────────┘               ║
║                                                       ║
╠═══════════════════════════════════════════════════════╣
║                                                       ║
║  🔍 ФИЛЬТРЫ                                           ║
║  [Все жанры ▼] [Все типы ▼]                          ║
║  ☑ Только открытые  ☑ С музыкой сейчас               ║
║                                                       ║
╠═══════════════════════════════════════════════════════╣
║                                                       ║
║  [Список] [Карта]                                    ║
║                                                       ║
║  ┌─────────────────┬─────────────────┬──────────────┐║
║  │ 🏢 Sunset       │ 🏢 NEON Club    │ 🏢 Coffee    │║
║  │ Lounge Bar      │                 │ & Vinyl      │║
║  │                 │                 │              │║
║  │ 📍 Тверская, 15 │ 📍 Кутузовский  │ 📍 Патриаршие│║
║  │ ⭐ 4.8 · 100    │ ⭐ 4.6 · 300    │ ⭐ 4.9 · 40  │║
║  │                 │                 │              │║
║  │ Jazz, Soul      │ Techno, House   │ Indie, Lo-Fi │║
║  │                 │                 │              │║
║  │ 🎵 Сейчас:      │ 🎵 Сейчас:      │ 🎵 Сейчас:   │║
║  │ Miles Davis     │ Amelie Lens     │ Postal Srv   │║
║  │ So What ┃┃┃     │ Feel It ┃┃┃     │ Heights ┃┃┃  │║
║  └─────────────────┴─────────────────┴──────────────┘║
║                                                       ║
╠═══════════════════════════════════════════════════════╣
║                                                       ║
║  🔴 СЕЙЧАС В ЭФИРЕ (бегущая лента внизу экрана)      ║
║  [🎵 Miles Davis - Sunset Lounge] [🎵 Amelie...]     ║
║                                                       ║
╚═══════════════════════════════════════════════════════╝
```

---

### 2️⃣ Страница конкретного заведения

```
╔═══════════════════════════════════════════════════════╗
║  [← Назад к списку]                                   ║
╠═══════════════════════════════════════════════════════╣
║                                                       ║
║         📸 ОБЛОЖКА ЗАВЕДЕНИЯ (Cover Image)           ║
║                                                       ║
╠═══════════════════════════════════════════════════════╣
║                                                       ║
║  🏢 Sunset Lounge Bar  ⭐ [Premium]                   ║
║  📍 ул. Тверская, 15, Москва                          ║
║                                                       ║
║  Авторская кухня и виниловые вечера в сердце Москвы  ║
║                                                       ║
║  ⭐ 4.8 рейтинг · 100 мест · Открыто до 02:00        ║
║                                                       ║
╠═══════════════════════════════════════════════════════╣
║                                                       ║
║  МУЗЫКАЛЬНЫЙ СТИЛЬ                                    ║
║  [Jazz] [Soul] [Lounge] [Neo-Soul]                   ║
║                                                       ║
╠═══════════════════════════════════════════════════════╣
║                                                       ║
║  🎵 СЕЙЧАС В ЭФИРЕ                                    ║
║  ┌─────────────────────────────────────────────────┐ ║
║  │                                                  │ ║
║  │  ┌──────────┐                                   │ ║
║  │  │  COVER   │   Miles Davis                     │ ║
║  │  │  IMAGE   │   So What                         │ ║
║  │  │   🎷     │   Kind of Blue (1959)             │ ║
║  │  └──────────┘                                   │ ║
║  │                                                  │ ║
║  │  [Jazz] · от Jazz FM Radio                      │ ║
║  │                                                  │ ║
║  │  [Найти этот трек на promo.music]               │ ║
║  │  [Узнать больше об артисте]                     │ ║
║  │                                                  │ ║
║  └─────────────────────────────────────────────────┘ ║
║                                                       ║
╠═══════════════════════════════════════════════════════╣
║                                                       ║
║  МУЗЫКАЛЬНЫЙ ПРОФИЛЬ ЗАВЕДЕНИЯ                        ║
║                                                       ║
║  📊 ТОП-5 ТРЕКОВ ЭТОГО МЕСЯЦА:                        ║
║  1. Miles Davis - So What (45 plays)                 ║
║  2. John Coltrane - Blue Train (42 plays)            ║
║  3. Bill Evans - Waltz for Debby (38 plays)          ║
║  4. Thelonious Monk - Round Midnight (35 plays)      ║
║  5. Norah Jones - Don't Know Why (32 plays)          ║
║                                                       ║
║  🎤 РЕЗИДЕНТЫ ЭТОГО МЕСЯЦА:                           ║
║  Miles Davis, John Coltrane, Bill Evans              ║
║                                                       ║
║  [Послушать плейлист этого заведения]                ║
║                                                       ║
╠═══════════════════════════════════════════════════════╣
║                                                       ║
║  [📍 Построить маршрут] [📞 Позвонить]               ║
║                                                       ║
╚═══════════════════════════════════════════════════════╝
```

---

### 3️⃣ Интерактивная карта

```
╔═══════════════════════════════════════════════════════╗
║  🗺️ КАРТА - МОСКВА                                    ║
╠═══════════════════════════════════════════════════════╣
║                                                       ║
║            [ИНТЕРАКТИВНАЯ КАРТА ГОРОДА]               ║
║                                                       ║
║         📍 Sunset Lounge                              ║
║         🎵 Miles Davis - So What                      ║
║         [Подробнее]                                   ║
║                                                       ║
║                  📍 NEON Club                         ║
║                  🎵 Amelie Lens - Feel It             ║
║                  [Подробнее]                          ║
║                                                       ║
║    📍 Coffee & Vinyl                                  ║
║    🎵 The Postal Service                              ║
║    [Подробнее]                                        ║
║                                                       ║
║              📍 Jazz Corner                           ║
║              🎵 John Coltrane                         ║
║              [Подробнее]                              ║
║                                                       ║
╚═══════════════════════════════════════════════════════╝
```

---

## 🔧 ТЕХНИЧЕСКАЯ АРХИТЕКТУРА

### SQL Структура (уже есть!):

```sql
-- 1. Venue Profiles
venue_profiles (
  id UUID PRIMARY KEY,
  venue_name TEXT,
  type TEXT, -- 'bar', 'club', 'cafe', etc
  address TEXT,
  city TEXT,
  lat DECIMAL,
  lng DECIMAL,
  rating DECIMAL,
  capacity INTEGER,
  verified BOOLEAN,
  premium BOOLEAN,
  description TEXT,
  cover_image_url TEXT,
  phone_number TEXT,
  website TEXT,
  settings JSONB -- { showInDirectory, showCurrentlyPlaying, ... }
)

-- 2. Playback Status (уже есть!)
venue_playback_status (
  venue_id UUID REFERENCES venue_profiles(id),
  current_track_id UUID,
  current_track_name TEXT,
  current_artist TEXT,
  current_album TEXT,
  current_cover_url TEXT,
  current_genre TEXT,
  is_playing BOOLEAN,
  started_at TIMESTAMPTZ,
  public_visibility BOOLEAN, -- КЛЮЧЕВОЕ ПОЛЕ!
  source TEXT, -- 'radio', 'playlist', 'artist'
  source_id UUID,
  source_name TEXT
)

-- 3. Venue Genres (связь многие-ко-многим)
venue_genres (
  venue_id UUID REFERENCES venue_profiles(id),
  genre TEXT,
  PRIMARY KEY (venue_id, genre)
)

-- 4. Venue Stats (для "Топ-5 треков месяца")
venue_track_stats (
  id UUID PRIMARY KEY,
  venue_id UUID REFERENCES venue_profiles(id),
  track_id UUID,
  track_name TEXT,
  artist_name TEXT,
  play_count INTEGER,
  month DATE,
  created_at TIMESTAMPTZ
)
```

---

### API Endpoints:

```typescript
// ======================================
// ПУБЛИЧНЫЙ API (Promo.Guide)
// ======================================

// 1. Получить список всех venue в каталоге
GET /api/public/guide/venues
Query params:
  - city?: string
  - genre?: string
  - type?: string ('bar', 'club', 'cafe', etc)
  - onlyOpen?: boolean
  - onlyWithMusic?: boolean
  - lat?, lng?, radius?: number (для "рядом со мной")
Response:
  {
    venues: [
      {
        id: "venue-123",
        name: "Sunset Lounge Bar",
        type: "lounge",
        address: "ул. Тверская, 15",
        city: "Москва",
        coords: { lat: 55.7642, lng: 37.6068 },
        rating: 4.8,
        capacity: 100,
        genres: ["Jazz", "Soul"],
        isOpen: true,
        openUntil: "02:00",
        verified: true,
        premium: true,
        nowPlaying: {
          track: "So What",
          artist: "Miles Davis",
          coverUrl: "...",
          genre: "Jazz",
          source: "Jazz FM Radio"
        }
      },
      ...
    ]
  }

// 2. Получить детали конкретного venue
GET /api/public/guide/venues/:id
Response:
  {
    ...venue data,
    description: "...",
    phoneNumber: "...",
    website: "...",
    topTracks: [ /* Топ-5 треков месяца */ ],
    residentArtists: [ /* Резиденты */ ],
    totalPlays: 1234
  }

// 3. Получить "сейчас в эфире" (лента)
GET /api/public/guide/live-feed
Response:
  {
    live: [
      {
        venueId: "venue-123",
        venueName: "Sunset Lounge",
        nowPlaying: { ... }
      },
      ...
    ]
  }

// 4. Поиск по названию venue
GET /api/public/guide/search?q=sunset
Response:
  { venues: [ ... ] }

// ======================================
// ВНУТРЕННИЙ API (для venue кабинета)
// ======================================

// Обновление playback status (уже есть!)
POST /api/venue/playback/play
PUT  /api/venue/playback/pause
PUT  /api/venue/playback/stop

// Обновление настроек публичности
PUT /api/venue/settings
Body:
  {
    showInDirectory: true,
    showCurrentlyPlaying: true,
    showStatistics: true,
    ...
  }
```

---

### Frontend Компоненты:

```
/src/promo-guide/
├── PromoGuideApp.tsx          ✅ СОЗДАН (главная страница)
├── components/
│   ├── VenueCard.tsx          ✅ Внутри PromoGuideApp
│   ├── VenueDetailPage.tsx    ✅ Внутри PromoGuideApp
│   ├── MapView.tsx             ✅ Placeholder создан
│   ├── FiltersBar.tsx          ✅ Внутри PromoGuideApp
│   ├── LiveFeed.tsx            ✅ Внутри PromoGuideApp
│   └── NowPlayingWidget.tsx    ✅ Внутри VenueDetailPage
└── utils/
    ├── api.ts                  TODO: API клиент
    └── filters.ts              TODO: Логика фильтрации
```

---

## 🎯 USER FLOWS (Сценарии использования)

### Сценарий 1: Посетитель ищет бар с джазом

```
1. Посетитель открывает promo.music
2. Переходит в раздел "Promo.Guide"
3. Фильтрует:
   - Город: Москва
   - Жанр: Jazz
   - Только открытые: ✅
   - С музыкой сейчас: ✅
4. Видит 4 заведения:
   - Sunset Lounge: Miles Davis - So What
   - Jazz Corner: John Coltrane - Blue Train
   - Blue Note Bar: Bill Evans - Waltz for Debby
   - Vinyl Cafe: Norah Jones - Don't Know Why
5. Кликает на "Sunset Lounge"
6. Видит полный профиль:
   - Рейтинг 4.8
   - Открыто до 02:00
   - Сейчас играет Miles Davis
   - Топ-5 треков: классика джаза
7. Думает: "Идеально!"
8. Нажимает "Построить маршрут"
9. Едет в бар! 🎉

✅ Результат: +1 посетитель через музыку
```

---

### Сценарий 2: Артист хочет промо

```
1. Артист "DJ Artem" загружает трек "Midnight Groove"
2. Трек попадает в ротацию "Sunset Lounge Bar"
3. Трек начинает играть в 21:00
4. Артист получает уведомление:
   "Ваш трек 'Midnight Groove' сейчас играет в Sunset Lounge Bar!"
5. Артист открывает Promo.Guide
6. Видит:
   🏢 Sunset Lounge Bar
   🎵 DJ Artem - Midnight Groove
   📍 ул. Тверская, 15
7. Делает скриншот
8. Постит в Instagram:
   "Ребята! Мой новый сингл прямо сейчас в Sunset Lounge на Тверской! 
    Кто там, передавайте привет! 🎵
    #midnight #groove #sunsetlounge #moscow"
9. 10,000 подписчиков видят
10. 50 человек: "О, пойдем туда послушаем!"

✅ Результат: 
   - Артист получил промо
   - Venue получило 50 посетителей
   - Promo.music получил вирусный контент
```

---

### Сценарий 3: Venue хочет премиум

```
1. Venue "Rock Bar" на обычном тарифе
2. Видит конкурентов в Promo.Guide:
   - Sunset Lounge: Premium ⭐, первый в списке
   - NEON Club: Premium ⭐, значок "Выбор редакции"
   - Coffee & Vinyl: обычный, внизу списка
3. Rock Bar: "Хм, мы внизу и без значка..."
4. Смотрит статистику:
   - Sunset (Premium): 200 просмотров/день
   - Rock Bar (обычный): 20 просмотров/день
5. Думает: "Нужен Premium!"
6. Апгрейдится до Premium тарифа
7. Получает:
   - Значок "Выбор редакции" ⭐
   - Приоритет в поиске
   - Больше аналитики
8. Просмотры: 20 → 180 в день
9. Посетителей: +40%

✅ Результат: Конверсия Basic → Premium
```

---

## 🚀 ИНТЕГРАЦИЯ В БИЗНЕС-МОДЕЛЬ

### Для Venue:

```
💎 BASIC ($99/месяц):
✅ Попадание в Promo.Guide
✅ Показ "сейчас играет"
✅ Базовая карточка
❌ Без значка "Выбор редакции"
❌ В конце списка

💎 PREMIUM ($299/месяц):
✅ Всё из Basic
✅ Значок "Выбор редакции" ⭐
✅ Приоритет в поиске (топ-3)
✅ Расширенная аналитика
✅ Кастомная обложка профиля
✅ Топ-5 треков месяца
✅ Резиденты месяца

💎 ENTERPRISE ($999/месяц):
✅ Всё из Premium
✅ Значок "Партнер платформы" 💎
✅ Всегда в топ-1 своей категории
✅ Персональная страница с брендингом
✅ API доступ к аналитике
✅ Персональный менеджер
```

---

### Для Артистов:

```
🎵 FREE:
✅ Загрузка треков
❌ Треки НЕ попадают в ротацию venue
❌ НЕ появляются в Promo.Guide

🎵 PRO ($29/месяц):
✅ Загрузка треков
✅ Треки МОГУТ попасть в ротацию venue
✅ Приоритетное прослушивание редакторами
✅ Уведомления "трек играет в venue"
✅ Статистика воспроизведений

🎵 ELITE ($99/месяц):
✅ Всё из Pro
✅ Гарантированное попадание в ротацию 5+ venue
✅ Персональная страница артиста в Promo.Guide
✅ "Где сейчас играют мои треки" (real-time)
✅ Прямой контакт с venue для букинга
✅ Аналитика venue где музыка "заходит"
```

---

## 📊 МЕТРИКИ УСПЕХА

### KPI для Venue:

```
1. Просмотры профиля в Promo.Guide
   Цель: 100+ в день

2. Клики "Построить маршрут"
   Цель: 10+ в день

3. Конверсия просмотр → посещение
   Цель: 5-10%

4. Упоминания в соцсетях артистами
   Цель: 5+ в месяц

5. Increase посещаемость
   Цель: +30% через Promo.Guide
```

---

### KPI для Promo.music:

```
1. Venue в Promo.Guide
   Цель: 500+ venue за год

2. Конверсия Basic → Premium venue
   Цель: 30%

3. Конверсия Free → Pro артисты
   Цель: 20%

4. Daily Active Users (Promo.Guide)
   Цель: 10,000+ через 6 месяцев

5. Вирусные посты артистов
   Цель: 100+ в месяц с хештегом #promoguide
```

---

## 🎨 ДИЗАЙН ПРИНЦИПЫ

### 1. Музыка на первом месте
```
❌ Плохо: Venue → детали → музыка
✅ Хорошо: Музыка → venue → детали

Пользователь должен СНАЧАЛА видеть музыку
```

### 2. Real-time ощущение
```
✅ Анимированные полоски ┃┃┃
✅ "🔴 Сейчас в эфире"
✅ Бегущая лента внизу
✅ Обновление каждые 10 секунд
```

### 3. Glassmorphism (как вся платформа)
```
✅ backdrop-blur-xl
✅ bg-white/5
✅ border border-white/10
✅ Темный фон slate-950
```

### 4. Мобильный first
```
✅ Touch-friendly
✅ Swipe карточки
✅ "Построить маршрут" → открывает Google Maps
✅ One-tap call venue
```

---

## 🎉 РЕЗЮМЕ

### ✨ Что создано:

```
✅ PromoGuideApp.tsx (850+ строк)
   ├─ Hero Section (статистика, заголовок)
   ├─ Filters Bar (жанры, типы, статусы)
   ├─ View Toggle (список/карта)
   ├─ Venues Grid (карточки venue)
   ├─ Venue Card (компактная карточка)
   ├─ Venue Detail Page (полная страница venue)
   ├─ Map View (placeholder)
   ├─ Live Feed (бегущая лента внизу)
   └─ Music Bars Animation (┃┃┃)

✅ Mock Data (5 venue с разными данными)
✅ Фильтрация (по жанру, типу, статусу)
✅ Адаптивный дизайн (mobile/desktop)
✅ Glassmorphism стиль
✅ Анимации (Motion)
```

---

### 🚀 Следующие шаги:

```
1. Backend API
   □ GET /api/public/guide/venues
   □ GET /api/public/guide/venues/:id
   □ GET /api/public/guide/live-feed
   □ WebSocket для real-time updates

2. Интеграция с существующей системой
   □ Использовать venue_playback_status
   □ Фильтровать по public_visibility = true
   □ Связать с venue_profiles

3. Карта
   □ Интеграция Google Maps / Mapbox
   □ Markers с иконками venue
   □ Popup с "сейчас играет"
   □ Кластеризация

4. Аналитика
   □ Трекинг просмотров venue
   □ Трекинг "Построить маршрут"
   □ Conversion tracking

5. Social Sharing
   □ Open Graph meta tags
   □ "Поделиться" кнопки
   □ Deep links для артистов

6. Premium Features
   □ Значки "Выбор редакции" ⭐
   □ Приоритет в поиске
   □ Расширенная аналитика venue
```

---

## 💎 ПОЧЕМУ ЭТО БРИЛЛИАНТ

### 1. Уникальность
```
Никто в мире так не делает!
- Spotify не показывает где играет
- Google Maps не показывает музыку
- Shazam определяет трек, но не место

МЫ = Первые! 🏆
```

### 2. Естественная интеграция
```
Все компоненты УЖЕ есть:
✅ venue_playback_status
✅ public_visibility настройка
✅ venue_profiles с локацией
✅ Жанры и рейтинги

Нужно только СВЯЗАТЬ! 🔗
```

### 3. Самораскручивающаяся система
```
Venue хотят больше посетителей
↓
Включают public_visibility
↓
Попадают в Promo.Guide
↓
Артисты видят где играет их музыка
↓
Делятся в соцсетях
↓
Их подписчики идут в venue
↓
Venue получает трафик
↓
Апгрейдятся до Premium
↓
💰 PROFIT! 💰
```

### 4. Оправдание Premium цены
```
Конкуренты: "$99/месяц за музыку"
Мы:         "$299/месяц за КЛИЕНТОВ"

Если venue получает +30 посетителей в месяц
И средний чек = $50
То доход = +$1500

Цена $299 = ROI 500% 🚀
```

---

## 🎯 ФИНАЛЬНАЯ МЫСЛЬ

**Promo.Guide — это не "фича".**  
**Это недостающий пазл, превращающий две платформы в единую доминирующую экосистему.**

```
Promo.Air (музыка для venue)
        +
Promo.Guide (открытие venue через музыку)
        +
Promo.Music (артисты и треки)
        =
💎 НЕПОБЕДИМАЯ ЭКОСИСТЕМА 💎
```

**Ни один конкурент не сможет повторить, потому что:**
1. Нужна платформа для venue ✅ (есть)
2. Нужна платформа для артистов ✅ (есть)
3. Нужен публичный гайд ✅ (создали)
4. Нужны все три вместе = СЕТЕВОЙ ЭФФЕКТ 🔥

**Это УБИЙСТВЕННОЕ конкурентное преимущество!** 💥

---

📄 См. также:
- `/src/promo-guide/PromoGuideApp.tsx` - Реализация
- `/VENUE_NOW_PLAYING_EXPLAINED.md` - Техническая документация
- `/VENUE_SETTINGS_EXPLAINED.md` - Настройки venue
